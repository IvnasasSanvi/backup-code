<!--
DOM use how to connect with backend
    Gists:
https://gist.github.com/hkirat/1b494c8f2e1f08a9771f918569e5efbf
Sum Server: https://sum-server.100xdevs.com/sum?a=8&b=5
Sum Server Repo: https://github.com/hkirat/sum-server
-->


<!DOCTYPE html>
<html lang="en">
<head>  
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DOM use how to connect with backend</title>
    <style>
    </style>
</head>
<script>
    /*
    let timeout
    function debounce(){
    clearTimeout(timeout);
    timeout = setTimeout(function(){
        //code to run after user stops typing
    }, 500);
    }
    */
    function populateDiv() {
        var firstno = document.getElementById("firstno").value;
        var secondno = document.getElementById("secondno").value;
        // var sum = parseFloat(firstno) + parseFloat(secondno);
        // document.getElementById("finalsum").innerHTML = "The sum is: " + sum;
        //const element = document.getElementById("finalsum");
        //fetch
        fetch("https://sum-server.100xdevs.com/sum?a=" + firstno + "&b=" + secondno)
        .then(function(response) {
            console.log(response);

            response.text().then(function(data) {
                console.log(data);
                document.getElementById("finalsum").innerHTML = "The sum is: " + data;
            });
        })
        //element.innerHTML = parseInt(firstno) + parseInt(secondno);

    }

    async function populateDiv2() {
        var firstno = document.getElementById("firstno").value;
        var secondno = document.getElementById("secondno").value;

        const response = await fetch("https://sum-server.100xdevs.com/sum?a=" + firstno + "&b=" + secondno);
        const data = await response.text();
        document.getElementById("finalsum").innerHTML = "The sum is: " + data;        
    }


</script>   
<body>
    <input type="text" id="firstno" placeholder="first number"><br><br>
    <input type="text" id="secondno" placeholder="second number"><br><br>
    <button onclick="populateDiv2()">Calculate</button><br><br>
    <div id="finalsum"></div>
</body> 
</html>